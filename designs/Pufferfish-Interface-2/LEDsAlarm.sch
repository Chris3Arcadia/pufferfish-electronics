EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 3 5
Title "Pufferface Interface Schematic"
Date "2020-07-09"
Rev "2"
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Wire Wire Line
	4600 3100 4600 3150
$Comp
L Pufferfish:5V #SUPPLY08
U 1 1 5EE780F4
P 4600 3100
F 0 "#SUPPLY08" H 4600 3100 50  0001 C CNN
F 1 "5V" H 4600 3322 59  0000 C CNN
F 2 "" H 4600 3100 50  0001 C CNN
F 3 "" H 4600 3100 50  0001 C CNN
	1    4600 3100
	1    0    0    -1  
$EndComp
Wire Wire Line
	4600 3350 4050 3350
Text GLabel 2450 3500 0    50   Input ~ 0
ALARM1_MED
Connection ~ 2750 3500
Wire Wire Line
	2750 3500 2800 3500
Wire Wire Line
	2450 3500 2750 3500
$Comp
L Pufferfish:GND #GND?
U 1 1 5EE93EE8
P 3100 3900
AR Path="/5EE93EE8" Ref="#GND?"  Part="1" 
AR Path="/5EE41C08/5EE93EE8" Ref="#GND?"  Part="1" 
AR Path="/5F073FE9/5EE93EE8" Ref="#GND06"  Part="1" 
F 0 "#GND06" H 3100 3900 50  0001 C CNN
F 1 "GND" H 3100 3770 59  0000 C CNN
F 2 "" H 3100 3900 50  0001 C CNN
F 3 "" H 3100 3900 50  0001 C CNN
	1    3100 3900
	1    0    0    -1  
$EndComp
$Comp
L Pufferfish:RES_SMD_0805 R?
U 1 1 5EE93EF5
P 2750 3700
AR Path="/5EE93EF5" Ref="R?"  Part="1" 
AR Path="/5EE41C08/5EE93EF5" Ref="R?"  Part="1" 
AR Path="/5F073FE9/5EE93EF5" Ref="R10"  Part="1" 
F 0 "R10" V 2545 3700 50  0000 C CNN
F 1 "RES_SMD_0805" H 2830 3510 50  0001 L CNN
F 2 "Pufferfish:RES_SMD_0805" H 2950 3300 50  0001 C CNN
F 3 "~" H 2750 3700 50  0001 C CNN
F 4 "?%" H 2900 3600 50  0001 C CNN "Tolerance"
F 5 "10KΩ" V 2636 3700 50  0000 C CNN "Resistance"
	1    2750 3700
	1    0    0    -1  
$EndComp
Wire Wire Line
	2750 3800 3100 3800
Wire Wire Line
	2750 3500 2750 3600
$Comp
L Pufferfish:GND #GND?
U 1 1 5EE5B705
P 3100 4850
AR Path="/5EE5B705" Ref="#GND?"  Part="1" 
AR Path="/5EE41C08/5EE5B705" Ref="#GND?"  Part="1" 
AR Path="/5F073FE9/5EE5B705" Ref="#GND07"  Part="1" 
F 0 "#GND07" H 3100 4850 50  0001 C CNN
F 1 "GND" H 3100 4720 59  0000 C CNN
F 2 "" H 3100 4850 50  0001 C CNN
F 3 "" H 3100 4850 50  0001 C CNN
	1    3100 4850
	1    0    0    -1  
$EndComp
Text GLabel 2450 4450 0    50   Input ~ 0
ALARM1_LOW
Wire Wire Line
	3100 4100 3100 4250
Text GLabel 2450 2650 0    50   Input ~ 0
ALARM1_HIGH
Connection ~ 2750 2650
Wire Wire Line
	2750 2650 2800 2650
Wire Wire Line
	2450 2650 2750 2650
$Comp
L Pufferfish:GND #GND?
U 1 1 5EEAC69F
P 3100 3050
AR Path="/5EEAC69F" Ref="#GND?"  Part="1" 
AR Path="/5EE41C08/5EEAC69F" Ref="#GND?"  Part="1" 
AR Path="/5F073FE9/5EEAC69F" Ref="#GND05"  Part="1" 
F 0 "#GND05" H 3100 3050 50  0001 C CNN
F 1 "GND" H 3100 2920 59  0000 C CNN
F 2 "" H 3100 3050 50  0001 C CNN
F 3 "" H 3100 3050 50  0001 C CNN
	1    3100 3050
	1    0    0    -1  
$EndComp
$Comp
L Pufferfish:RES_SMD_0805 R?
U 1 1 5EEAC6AC
P 2750 2850
AR Path="/5EEAC6AC" Ref="R?"  Part="1" 
AR Path="/5EE41C08/5EEAC6AC" Ref="R?"  Part="1" 
AR Path="/5F073FE9/5EEAC6AC" Ref="R9"  Part="1" 
F 0 "R9" V 2545 2850 50  0000 C CNN
F 1 "RES_SMD_0805" H 2830 2660 50  0001 L CNN
F 2 "Pufferfish:RES_SMD_0805" H 2950 2450 50  0001 C CNN
F 3 "~" H 2750 2850 50  0001 C CNN
F 4 "?%" H 2900 2750 50  0001 C CNN "Tolerance"
F 5 "10KΩ" V 2636 2850 50  0000 C CNN "Resistance"
	1    2750 2850
	1    0    0    -1  
$EndComp
Wire Wire Line
	2750 2650 2750 2750
Wire Wire Line
	4050 3250 4600 3250
Wire Wire Line
	4050 2450 4050 3250
Wire Wire Line
	3750 3650 3750 2450
Wire Wire Line
	3750 2450 4050 2450
Wire Wire Line
	3700 3300 3700 4000
Wire Wire Line
	3700 4000 3750 4000
Wire Wire Line
	3100 3300 3700 3300
Connection ~ 3700 3300
Wire Wire Line
	3700 3300 4600 3300
Wire Wire Line
	3100 4100 4050 4100
Wire Wire Line
	3100 2450 3750 2450
Connection ~ 3750 2450
Text Notes 8400 1550 0    118  ~ 24
LEDs
Text Notes 3150 1550 0    118  ~ 24
Alarms
Text Notes 2500 2200 0    118  ~ 0
Regulatory Medical Alarm
$Comp
L Diode:1N4001 D2
U 1 1 5EEF6F14
P 3900 4000
F 0 "D2" H 3900 4217 50  0000 C CNN
F 1 "1N4001" H 3900 4126 50  0000 C CNN
F 2 "Diode_THT:D_DO-41_SOD81_P10.16mm_Horizontal" H 3900 3825 50  0001 C CNN
F 3 "http://www.vishay.com/docs/88503/1n4001.pdf" H 3900 4000 50  0001 C CNN
	1    3900 4000
	1    0    0    -1  
$EndComp
Wire Wire Line
	4050 3350 4050 3650
$Comp
L Diode:1N4001 D1
U 1 1 5EEF85A8
P 3900 3650
F 0 "D1" H 3900 3867 50  0000 C CNN
F 1 "1N4001" H 3900 3776 50  0000 C CNN
F 2 "Diode_THT:D_DO-41_SOD81_P10.16mm_Horizontal" H 3900 3475 50  0001 C CNN
F 3 "http://www.vishay.com/docs/88503/1n4001.pdf" H 3900 3650 50  0001 C CNN
	1    3900 3650
	1    0    0    -1  
$EndComp
Connection ~ 4050 3650
Wire Wire Line
	4050 3650 4050 4000
Connection ~ 4050 4000
Wire Wire Line
	4050 4000 4050 4100
Text GLabel 7000 3500 0    50   Input ~ 0
LEDR_EN
Text GLabel 7000 2600 0    50   Input ~ 0
LEDG_EN
$Comp
L Transistor_FET:2N7002E Q8
U 1 1 5EF1AFC1
P 7550 2600
F 0 "Q8" H 7754 2646 50  0000 L CNN
F 1 "2N7002E" H 7754 2555 50  0000 L CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 7750 2525 50  0001 L CIN
F 3 "http://www.diodes.com/assets/Datasheets/ds30376.pdf" H 7550 2600 50  0001 L CNN
	1    7550 2600
	1    0    0    -1  
$EndComp
Text GLabel 7000 4300 0    50   Input ~ 0
LEDB_EN
Text Notes 8600 3200 0    50   ~ 0
G
Text Notes 8600 3300 0    50   ~ 0
R
Text Notes 8600 3400 0    50   ~ 0
B
$Comp
L Controller_Library:B4B-PH-SM4-TB(LF)(SN) CONN2
U 1 1 5EF404B2
P 9050 3250
F 0 "CONN2" H 9075 3667 50  0000 C CNN
F 1 "B4B-PH-SM4-TB(LF)(SN)" H 9075 3576 50  0000 C CNN
F 2 "Pufferfish:JST_B4B-PH-SM4-TB" H 9450 3250 50  0001 L BNN
F 3 "JST" H 9050 3250 50  0001 L BNN
F 4 "JST Sales America Inc." H 9850 3150 50  0001 C CNN "Manufacturer"
	1    9050 3250
	1    0    0    -1  
$EndComp
Wire Wire Line
	8450 3200 8850 3200
Wire Wire Line
	8450 2400 8450 3200
Wire Wire Line
	8850 3400 8450 3400
Wire Wire Line
	8450 3400 8450 4100
Wire Wire Line
	7650 4100 8450 4100
Wire Wire Line
	7650 3300 8850 3300
Wire Wire Line
	7650 2400 8450 2400
Text Notes 8700 3700 0    50   ~ 0
Note: Current-limiting resistors already included in strip
Text Notes 9350 3300 0    50   ~ 0
To LED strip
Wire Wire Line
	8850 2700 8850 3100
$Comp
L Transistor_FET:2N7002E Q10
U 1 1 5EF24A38
P 7550 4300
F 0 "Q10" H 7754 4346 50  0000 L CNN
F 1 "2N7002E" H 7754 4255 50  0000 L CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 7750 4225 50  0001 L CIN
F 3 "http://www.diodes.com/assets/Datasheets/ds30376.pdf" H 7550 4300 50  0001 L CNN
	1    7550 4300
	1    0    0    -1  
$EndComp
$Comp
L Pufferfish:GND #GND?
U 1 1 5EF24A2B
P 7650 4700
AR Path="/5EF24A2B" Ref="#GND?"  Part="1" 
AR Path="/5EE41C08/5EF24A2B" Ref="#GND?"  Part="1" 
AR Path="/5F073FE9/5EF24A2B" Ref="#GND010"  Part="1" 
F 0 "#GND010" H 7650 4700 50  0001 C CNN
F 1 "GND" H 7650 4570 59  0000 C CNN
F 2 "" H 7650 4700 50  0001 C CNN
F 3 "" H 7650 4700 50  0001 C CNN
	1    7650 4700
	1    0    0    -1  
$EndComp
Wire Wire Line
	7650 4500 7650 4600
$Comp
L Pufferfish:GND #GND?
U 1 1 5F0DEB18
P 7650 3900
AR Path="/5F0DEB18" Ref="#GND?"  Part="1" 
AR Path="/5EE41C08/5F0DEB18" Ref="#GND?"  Part="1" 
AR Path="/5F073FE9/5F0DEB18" Ref="#GND09"  Part="1" 
F 0 "#GND09" H 7650 3900 50  0001 C CNN
F 1 "GND" H 7650 3770 59  0000 C CNN
F 2 "" H 7650 3900 50  0001 C CNN
F 3 "" H 7650 3900 50  0001 C CNN
	1    7650 3900
	1    0    0    -1  
$EndComp
Wire Wire Line
	7650 3700 7650 3800
$Comp
L Pufferfish:GND #GND?
U 1 1 5F0E1E24
P 7650 3000
AR Path="/5F0E1E24" Ref="#GND?"  Part="1" 
AR Path="/5EE41C08/5F0E1E24" Ref="#GND?"  Part="1" 
AR Path="/5F073FE9/5F0E1E24" Ref="#GND08"  Part="1" 
F 0 "#GND08" H 7650 3000 50  0001 C CNN
F 1 "GND" H 7650 2870 59  0000 C CNN
F 2 "" H 7650 3000 50  0001 C CNN
F 3 "" H 7650 3000 50  0001 C CNN
	1    7650 3000
	1    0    0    -1  
$EndComp
Wire Wire Line
	7650 2800 7650 2900
Wire Wire Line
	2750 2950 3100 2950
Wire Wire Line
	3100 2850 3100 2950
Wire Wire Line
	3100 3700 3100 3800
Wire Wire Line
	3100 4650 3100 4750
$Comp
L power:+12V #PWR05
U 1 1 5EFC5BA0
P 8850 2700
F 0 "#PWR05" H 8850 2550 50  0001 C CNN
F 1 "+12V" H 8865 2873 50  0000 C CNN
F 2 "" H 8850 2700 50  0001 C CNN
F 3 "" H 8850 2700 50  0001 C CNN
	1    8850 2700
	1    0    0    -1  
$EndComp
Text Notes 6250 2400 0    50   ~ 0
Driven by barrel shifter \n(5V = HIGH, pulled up)
Text Notes 3750 3100 2    50   ~ 0
Cathode \n(marking)
$Comp
L Pufferfish:FDN337N Q5
U 1 1 5EEC3023
P 3100 2650
F 0 "Q5" H 3304 2696 50  0000 L CNN
F 1 "FDN337N" H 3304 2605 50  0000 L CNN
F 2 "Package_TO_SOT_SMD:SuperSOT-3" H 3300 2575 50  0001 L CIN
F 3 "" H 3100 2650 50  0001 L CNN
	1    3100 2650
	1    0    0    -1  
$EndComp
$Comp
L Pufferfish:FDN337N Q6
U 1 1 5EEB3742
P 3100 3500
F 0 "Q6" H 3304 3546 50  0000 L CNN
F 1 "FDN337N" H 3304 3455 50  0000 L CNN
F 2 "Package_TO_SOT_SMD:SuperSOT-3" H 3300 3425 50  0001 L CIN
F 3 "" H 3100 3500 50  0001 L CNN
	1    3100 3500
	1    0    0    -1  
$EndComp
$Comp
L Pufferfish:BUZZER-MALLORY BUZZ1
U 1 1 5EFEDE5A
P 5000 3250
F 0 "BUZZ1" V 4954 3203 50  0000 L CNN
F 1 "BUZZER-MALLORY" V 5045 3203 50  0000 L CNN
F 2 "Pufferfish:Buzzer-MSS5MMG" H 5000 3250 50  0001 C CNN
F 3 "https://www.mspindy.com/Specifications/MSS5MMG.pdf" H 5000 3250 50  0001 C CNN
	1    5000 3250
	0    1    1    0   
$EndComp
Connection ~ 3100 2950
Connection ~ 3100 3800
Text Notes 1700 5400 0    118  ~ 0
System Non-Regulatory Alarm - Control Board
Text Notes 1000 2450 0    50   ~ 0
Driven by MCU directly (3V3 = HIGH)
Text Notes 2000 7650 0    118  ~ 0
Click confirmation speaker - RPi
$Comp
L Pufferfish:BUZZER-12MM BUZZ2
U 1 1 5F8C2AEB
P 3900 5850
F 0 "BUZZ2" V 3889 6052 70  0000 L CNN
F 1 "BUZZER" V 4010 6052 70  0000 L CNN
F 2 "Pufferfish:Buzzer-CUI_CSQG703BP" H 3900 5500 50  0001 C CNN
F 3 "" H 3900 5850 50  0001 C CNN
	1    3900 5850
	0    1    1    0   
$EndComp
$Comp
L Pufferfish:GND #GND?
U 1 1 5F8C4A2F
P 3800 6750
AR Path="/5F8C4A2F" Ref="#GND?"  Part="1" 
AR Path="/5EE41C08/5F8C4A2F" Ref="#GND?"  Part="1" 
AR Path="/5F073FE9/5F8C4A2F" Ref="#GND0108"  Part="1" 
F 0 "#GND0108" H 3800 6750 50  0001 C CNN
F 1 "GND" H 3800 6620 59  0000 C CNN
F 2 "" H 3800 6750 50  0001 C CNN
F 3 "" H 3800 6750 50  0001 C CNN
	1    3800 6750
	1    0    0    -1  
$EndComp
Text GLabel 2900 6450 0    50   Input ~ 0
ALARM2_EN
Wire Wire Line
	3800 6050 3800 6250
$Comp
L Diode:1N4001 D10
U 1 1 5F512610
P 3450 5900
F 0 "D10" H 3450 6117 50  0000 C CNN
F 1 "1N4001" H 3450 6026 50  0000 C CNN
F 2 "Diode_THT:D_DO-41_SOD81_P10.16mm_Horizontal" H 3450 5725 50  0001 C CNN
F 3 "http://www.vishay.com/docs/88503/1n4001.pdf" H 3450 5900 50  0001 C CNN
	1    3450 5900
	0    1    1    0   
$EndComp
Wire Wire Line
	3450 5750 3800 5750
Wire Wire Line
	3800 5750 3800 5650
Wire Wire Line
	3800 5850 3800 5750
Connection ~ 3800 5750
Wire Wire Line
	3450 6050 3800 6050
Wire Wire Line
	3800 5950 3800 6050
Connection ~ 3800 6050
$Comp
L Transistor_BJT:2N2219 Q11
U 1 1 5F5385FF
P 3700 6450
F 0 "Q11" H 3890 6496 50  0000 L CNN
F 1 "PN2222ABU" H 3890 6405 50  0000 L CNN
F 2 "Package_TO_SOT_THT:TO-92" H 3900 6375 50  0001 L CIN
F 3 "http://www.onsemi.com/pub_link/Collateral/2N2219-D.PDF" H 3700 6450 50  0001 L CNN
	1    3700 6450
	1    0    0    -1  
$EndComp
Connection ~ 3100 4750
$Comp
L Pufferfish:FDN337N Q7
U 1 1 5EEC53F1
P 3100 4450
F 0 "Q7" H 3304 4496 50  0000 L CNN
F 1 "FDN337N" H 3304 4405 50  0000 L CNN
F 2 "Package_TO_SOT_SMD:SuperSOT-3" H 3300 4375 50  0001 L CIN
F 3 "" H 3100 4450 50  0001 L CNN
	1    3100 4450
	1    0    0    -1  
$EndComp
Connection ~ 2750 4450
Wire Wire Line
	2750 4450 2800 4450
Wire Wire Line
	2450 4450 2750 4450
$Comp
L Pufferfish:RES_SMD_0805 R?
U 1 1 5EE5B711
P 2750 4650
AR Path="/5EE5B711" Ref="R?"  Part="1" 
AR Path="/5EE41C08/5EE5B711" Ref="R?"  Part="1" 
AR Path="/5F073FE9/5EE5B711" Ref="R11"  Part="1" 
F 0 "R11" V 2545 4650 50  0000 C CNN
F 1 "RES_SMD_0805" H 2830 4460 50  0001 L CNN
F 2 "Pufferfish:RES_SMD_0805" H 2950 4250 50  0001 C CNN
F 3 "~" H 2750 4650 50  0001 C CNN
F 4 "?%" H 2900 4550 50  0001 C CNN "Tolerance"
F 5 "10KΩ" V 2636 4650 50  0000 C CNN "Resistance"
	1    2750 4650
	1    0    0    -1  
$EndComp
Wire Wire Line
	2750 4750 3100 4750
Wire Wire Line
	2750 4450 2750 4550
$Comp
L Pufferfish:RES_SMD_0805 R?
U 1 1 5F5452FF
P 3300 6450
AR Path="/5F5452FF" Ref="R?"  Part="1" 
AR Path="/5EE41C08/5F5452FF" Ref="R?"  Part="1" 
AR Path="/5F073FE9/5F5452FF" Ref="R46"  Part="1" 
F 0 "R46" V 3095 6450 50  0000 C CNN
F 1 "RES_SMD_0805" H 3380 6260 50  0001 L CNN
F 2 "Pufferfish:RES_SMD_0805" H 3500 6050 50  0001 C CNN
F 3 "~" H 3300 6450 50  0001 C CNN
F 4 "?%" H 3450 6350 50  0001 C CNN "Tolerance"
F 5 "180Ω" V 3186 6450 50  0000 C CNN "Resistance"
	1    3300 6450
	0    1    1    0   
$EndComp
Wire Wire Line
	2900 6450 3200 6450
Wire Wire Line
	3400 6450 3500 6450
Wire Wire Line
	7000 2600 7350 2600
$Comp
L Transistor_FET:2N7002E Q9
U 1 1 5EF19E0B
P 7550 3500
F 0 "Q9" H 7754 3546 50  0000 L CNN
F 1 "2N7002E" H 7754 3455 50  0000 L CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 7750 3425 50  0001 L CIN
F 3 "http://www.diodes.com/assets/Datasheets/ds30376.pdf" H 7550 3500 50  0001 L CNN
	1    7550 3500
	1    0    0    -1  
$EndComp
Wire Wire Line
	7000 3500 7350 3500
Wire Wire Line
	7000 4300 7350 4300
$Comp
L Pufferfish:3.3V #SUPPLY?
U 1 1 5FC13245
P 3800 5650
AR Path="/5FC13245" Ref="#SUPPLY?"  Part="1" 
AR Path="/5EE1053C/5FC13245" Ref="#SUPPLY?"  Part="1" 
AR Path="/5EE81B75/5FC13245" Ref="#SUPPLY?"  Part="1" 
AR Path="/5EE54DB7/5FC13245" Ref="#SUPPLY?"  Part="1" 
AR Path="/5F073FC4/5FC13245" Ref="#SUPPLY?"  Part="1" 
AR Path="/5F073FE9/5FC13245" Ref="#SUPPLY0119"  Part="1" 
F 0 "#SUPPLY0119" H 3800 5650 50  0001 C CNN
F 1 "3.3V" H 3800 5872 59  0000 C CNN
F 2 "" H 3800 5650 50  0001 C CNN
F 3 "" H 3800 5650 50  0001 C CNN
	1    3800 5650
	1    0    0    -1  
$EndComp
$EndSCHEMATC
